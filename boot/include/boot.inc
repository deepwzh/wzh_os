LOADER_BASE_ADDR equ 0x900
LOADER_START_SECTOR equ 0x2
;页表相关配置
PAGE_DIR_TABLE_POS equ 0x100000 ;页表位于1MB处
PG_RW_R equ 00b
PG_RW_W equ 10b
PG_US_S equ 000b
PG_US_U equ 100b
PG_P equ 1b
; 段描述符属性
DESC_G_4K equ 0x00800000 ;段界限的单位为4K
DESC_DB_32 equ 0x00400000 ;地址或操作数位数
DESC_L_32 equ 0x00000000 ;表示是32位代码段
DESC_L_64 equ 0x00200000 ;表示是64位代码段
DESC_S_DATA equ 0x00001000 ;表示是数据段
DESC_S_SYS equ 0x00000000 ;表示是系统段
DESC_AVL equ 0x00000000 ;可用位，操作系统不管此位
DESC_P equ 0x00008000 ;表示此段存在
DESC_TYPE_CODE equ 1000_00000000b ;x=1,c=0,r=0,a=0 代码段是可执行的，非一致性，不可读，已访问位a清0 
DESC_TYPE_DATA equ 0010_00000000b ;x=0,e=0,w=1,a=0 数据段是不可执行的，向上扩展的，可写，已访问位a清0 
DESC_DPL_0 equ 0x0000;0表示最高特权级
DESC_DPL_1 equ 0x2000
DESC_DPL_2 equ 0x4000
DESC_DPL_3 equ 0x6000
DESC_CODE_HIGH4 equ (0x00 << 24) + DESC_G_4K + DESC_DB_32 + DESC_L_32 + DESC_AVL + (0xF << 16) + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_TYPE_CODE + 0x00
DESC_DATA_HIGH4 equ (0x00 << 24) + DESC_G_4K + DESC_DB_32 + DESC_L_32 + DESC_AVL + (0xF << 16) + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_TYPE_DATA + 0x00
DESC_VIDEO_HIGH4 equ (0x00 << 24) + DESC_G_4K + DESC_DB_32 + DESC_L_32 + DESC_AVL + (0x0 << 16) + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_TYPE_DATA + 0x0b
;选择子属性
RPL0 equ 00b
RPL1 equ 01b
RPL2 equ 10b
RPL3 equ 11b
TI_GDT equ 000b
TI_LDT equ 100b
